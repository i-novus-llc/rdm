<?xml version='1.0' encoding='UTF-8'?>
<object xmlns="http://n2oapp.net/framework/config/schema/object-3.0" name="Справочник">

    <!-- to-do: Убрать, когда будет сделана https://jira.i-novus.ru/browse/NNO-4199 -->
    <fields>
        <field id="hasDataConflict"/>
    </fields>

    <operations>
        <operation id="delete" submit-label="Удалить" success-text="Запись успешно удалена"
                   confirm="true" confirm-text="Вы точно хотите удалить запись?">
            <invocation>
                <java class="ru.i_novus.ms.rdm.n2o.service.CreateDraftController"
                      method="deleteDataRecord">
                    <spring/>

                    <arguments>
                        <argument type="primitive" name="versionId" class="java.lang.Integer"/>
                        <argument type="primitive" name="optLockValue" class="java.lang.Integer"/>
                        <argument type="primitive" name="sysRecordId" class="java.lang.Long"/>
                    </arguments>
                </java>
            </invocation>

            <in-parameters>
                <param id="versionId" mapping="[0]" domain="integer" mapper="spel"/>
                <param id="optLockValue" mapping="[1]" domain="integer" mapper="spel"/>
                <param id="id" mapping="[2]" domain="long" mapper="spel"/>
            </in-parameters>
        </operation>

        <operation id="deleteAll" submit-label="Удалить все" success-text="Все записи успешно удалены" confirm="false">
            <invocation>
                <java class="ru.i_novus.ms.rdm.n2o.service.CreateDraftController"
                      method="deleteAllDataRecords">
                    <spring/>

                    <arguments>
                        <argument type="primitive" name="versionId" class="java.lang.Integer"/>
                        <argument type="primitive" name="optLockValue" class="java.lang.Integer"/>
                    </arguments>
                </java>
            </invocation>

            <in-parameters>
                <param id="versionId" mapping="[0]" domain="integer" mapper="spel" />
                <param id="optLockValue" mapping="[1]" domain="integer" mapper="spel"/>
            </in-parameters>
        </operation>
    </operations>

</object>