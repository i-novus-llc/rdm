<?xml version='1.0' encoding='UTF-8'?>
<object xmlns="http://n2oapp.net/framework/config/schema/object-3.0" name="Публикация справочника">

    <operations>
        <operation id="publishDraft" submit-label="Опубликовать"
                   success-text="Справочник опубликован" confirm="false">
            <invocation>
                <java class="ru.inovus.ms.rdm.service.RefBookVersionController"
                      method="publishDraft">
                    <spring/>
                    <arguments>
                        <argument type="primitive" name="draftId" class="java.lang.Integer"/>
                        <argument type="primitive" name="processResolvableConflicts" class="java.lang.Boolean"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="version.id" mapping="[0]" domain="integer" mapper="spel"/>
                <param id="processResolvableConflicts" mapping="[1]" default-value="false" domain="boolean"/>
            </in-parameters>
        </operation>

        <operation id="publishAndRefresh" submit-label="Опубликовать и обновить ссылки"
                   success-text="Справочник опубликован, ссылки обновлены" confirm="false">
            <invocation>
                <java class="ru.inovus.ms.rdm.service.RefBookVersionController"
                      method="publishDraft">
                    <spring/>
                    <arguments>
                        <argument type="primitive" name="draftId" class="java.lang.Integer"/>
                        <argument type="primitive" name="processResolvableConflicts" class="java.lang.Boolean"/>
                    </arguments>
                </java>
            </invocation>
            <in-parameters>
                <param id="version.id" mapping="[0]" domain="integer" mapper="spel"/>
                <param id="processResolvableConflicts" mapping="[1]" default-value="true" domain="boolean"/>
            </in-parameters>
        </operation>

    </operations>

</object>