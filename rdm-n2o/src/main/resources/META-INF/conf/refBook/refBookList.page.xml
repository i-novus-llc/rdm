<?xml version='1.0' encoding='UTF-8'?>
<simple-page xmlns="http://n2oapp.net/framework/config/schema/page-2.0" name="Реестр НСИ">
    <table query-id="refBook">
        <pagination/>
        <filters>
            <row>
                <input-text id="name" label="Название справочника"/>
                <input-text id="code" label="Код справочника"/>
                <date-interval id="lastPublishedVersionFromDateInterval" label="Дата последней публикаци"/>
                <input-select id="status" label="Статус" label-field-id="name">
                    <options>
                        <option id="PUBLISHED" name="Опубликован"/>
                        <option id="HAS_DRAFT" name="В работе"/>
                        <option id="ARCHIVED" name="Архив"/>
                    </options>
                </input-select>
                <input-select id="category" label="Категория" query-id="category" label-field-id="id"/>
            </row>
        </filters>
        <toolbar>
            <!-- todo-->
            <!--<button id="create" label="Создать справочник1" icon="fa fa-plus">-->
                <!--<open-page page-id="refbook" model="filter" upload="defaults"-->
                           <!--page-name="Создание справочника"/>-->
            <!--</button>-->
            <!--<button id="edit" label="Изменить справочник" icon="fa fa-pencil">-->
                <!--<open-page page-id="refbook" master-field-id="version.id" detail-field-id="version.id"-->
                           <!--page-name="Редактирование справочника"/>-->
            <!--</button>-->
            <!--<button id="delete" label="Удалить справочник" icon="fa fa-trash" class="btn-danger" >-->
                <!--<invoke operation-id="delete"/>-->
            <!--</button>-->
            <button id="passport" label="Паспорт">
                <open-page page-id="passport" master-field-id="version.id" detail-field-id="version.id"/>
            </button>
            <button id="structure" label="Структура">
                <open-page page-id="structure" master-field-id="version.id" detail-field-id="versionId"/>
            </button>
            <button id="data" label="Просмотр данных">
                <open-page page-id="data" master-field-id="version.id" detail-field-id="versionId"/>
            </button>
        </toolbar>
        <columns>
            <column text-field-id="code" label="Код" width="100px"/>
            <column text-field-id="name" label="Наименование"/>
            <column text-field-id="displayVersion" label="Версия"/>
            <column text-field-id="category" label="Категория"/>
            <column text-field-id="lastPublishedVersionFromDate" label="Последняя публикация">
                <text format="date DD.MM.YYYY"/>
            </column>
        </columns>
    </table>
</simple-page>